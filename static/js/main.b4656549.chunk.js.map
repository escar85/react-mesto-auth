{"version":3,"sources":["images/logo__mesto.svg","contexts/CurrentUserContext.js","utils/api.js","utils/authApi.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmDeleteCardPopup.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","status","catch","err","console","log","newInfo","body","JSON","stringify","name","about","cardInfo","link","cardId","isLiked","data","id","authorization","authApi","authData","password","email","token","localStorage","setItem","Header","props","useState","linkTo","setLinkTo","linkTitle","setLinkTitle","url","useLocation","useEffect","pathname","className","src","logo","alt","loggedIn","to","onClick","signOut","Card","currentUser","useContext","isOwn","card","owner","_id","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onCardClick","type","aria-label","onCardDelete","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","onAddPlace","cards","map","item","key","Footer","PopupWithForm","isOpen","onSubmit","action","noValidate","title","children","onClose","EditProfilePopup","setName","description","setDescription","e","preventDefault","onUpdateUser","required","minLength","maxLength","defaultValue","onChange","target","value","EditAvatarPopup","userAvatar","useRef","current","onUpdateAvatar","ref","placeholder","AddPlacePopup","placeName","placeLink","ImagePopup","ConfirmDeleteCardPopup","Login","setEmail","setPassword","onLogin","Register","onRegister","InfoTooltip","isSuccess","ProtectedRoute","Component","component","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","isConfirmDeleteCardPopupOpen","setConfirmDeleteCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","isSuccessAuth","setIsSuccessAuth","history","useHistory","closeAllPopups","undefined","tokenCheck","getItem","getContent","push","all","getInitialCards","getUserInfo","user","handleCloseByOverlayClickAndPressEscape","classList","contains","document","addEventListener","removeEventListener","Provider","removeItem","exact","path","changeLikeCardStatus","newCard","newCards","c","registerUser","finally","loginUser","setUserInfo","newAvatar","setUserAvatar","addCard","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.b4656549.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo__mesto.4e5bdbab.svg\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  //метод получет данные пользователя с сервера\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    })\n\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // метод отправляет новые данные пользователя на сервер\n  setUserInfo(newInfo) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: newInfo.name,\n        about: newInfo.about\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // метод для получения массива карточек с сервера\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    })\n\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // метод добавления карточки\n  addCard(cardInfo) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: cardInfo.name,\n        link: cardInfo.link\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: isLiked ? 'PUT' : 'DELETE',\n      headers: this._headers,\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // метод смены аватара\n  setUserAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // метод удаления карточки\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n\n// создаем класс для работы с Api\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: 'b8b572e2-0aa8-4f92-a0e1-a67154852e96',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n","\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  registerUser(authData) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        password: authData.password,\n        email: authData.email\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  loginUser(authData) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"password\": authData.password,\n        \"email\": authData.email\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n      })\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('token', data.token);\n          return data;\n        } else {\n          return;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  getContent(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${token}`\n      }\n    })\n      .then(res => res.json())\n      .then(data => data)\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n}\n\n\n\n\n// создаем класс для работы с Api\nconst authApi = new Api({\n  baseUrl: 'https://auth.nomoreparties.co',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default authApi;\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport logo from '../../src/images/logo__mesto.svg';\n\nfunction Header(props) {\n\n  const [linkTo, setLinkTo] = React.useState('');\n  const [linkTitle, setLinkTitle] = React.useState('');\n  const url = useLocation();\n\n  function handleChangeLink() {\n    if (url.pathname === '/sign-in') {\n      setLinkTo('/sign-up');\n      setLinkTitle('Зарегистрироваться')\n    } else {\n      setLinkTo('/sign-in');\n      setLinkTitle('Войти');\n    }\n  }\n\n  React.useEffect(() => {\n    handleChangeLink();\n  });\n\n  return (\n    <header className=\"header\">\n      <img src={logo} alt=\"места России\" className=\"header__logo\" />\n      <div className=\"header__box\">\n\n        {props.loggedIn ?\n          <>\n            <h3 className=\"header__user-email\">{props.email}</h3>\n            <Link to='/sign-in' onClick={props.signOut} className=\"header__link\">Выйти</Link>\n          </>\n          : <Link to={linkTo} className=\"header__link\">{linkTitle}</Link>\n        }\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // проверяем являемся ли мы владельцем карточки\n  const isOwn = props.card.owner._id === currentUser._id;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n\n  // переменная учтанавливает видимость кнопки \"удаления карточки\" в зависимости от владельца карточки\n  const cardDeleteButtonClassName = (\n    `element__delete-button ${isOwn ? '' : 'element__delete-button_hidden'}`\n  )\n\n  const cardLikeButtonClassName = `element__like-button ${isLiked ? 'element__like-button_active' : ''}`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\nfunction handleLikeClick() {\n  props.onCardLike(props.card);\n}\n\nfunction handleDeleteClick() {\n  props.onCardDelete(props.card);\n}\n\n  return (\n    <li className=\"element\">\n      <img alt={props.card.name} className=\"element__image\" src={props.card.link} onClick={handleClick} />\n      <button type=\"button\" aria-label=\"delete\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n      <div className=\"element__info\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__like-area\">\n          <button type=\"button\" aria-label=\"like\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n          <span className=\"element__like-count\">{props.card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n\n\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__info\">\n          <img alt=\"аватар пользователя\" src={currentUser.avatar} className=\"profile__avatar\" onClick={props.onEditAvatar} />\n          <div className=\"profile__block\">\n            <div className=\"profile__name-area\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <button type=\"button\" aria-label=\"edit-profile\" className=\"profile__edit-button\" onClick={props.onEditProfile}></button>\n            </div>\n            <p className=\"profile__job\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button type=\"button\" aria-label=\"add-card\" className=\"profile__card-add-button\" onClick={props.onAddPlace}></button>\n      </section>\n\n      <ul className=\"elements\">\n        {props.cards.map((item, i) => (\n          <Card\n            card={item}\n            key={i}\n            onCardClick={props.onCardClick}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </ul>\n    </>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  return (\n    <section className={`popup ${props.isOpen ? 'popup_opened' : ''} popup-${props.name}`}>\n      <form name={props.name} onSubmit={props.onSubmit} method=\"post\" action=\"#\" className=\"popup__container\" id={props.name} noValidate>\n        <h3 className=\"popup__title\">{props.title}</h3>\n        {props.children}\n        <button type=\"submit\" className=\"popup__submit-button\">Сохранить</button>\n        <button type=\"button\" aria-label=\"close\" className=\"popup__close-button\" onClick={props.onClose}></button>\n      </form>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (\n    <PopupWithForm\n      name='profile'\n      title='Редактировать профиль'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}>\n\n      <input\n        type=\"text\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        className=\"popup__input\"\n        id=\"inputName\"\n        defaultValue={name}\n        onChange={handleNameChange}\n      />\n      <span className=\"popup__input_type_error\" id=\"inputName-error\"></span>\n      <input\n        type=\"text\"\n        name=\"about\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        className=\"popup__input\"\n        id=\"inputJob\"\n        defaultValue={description}\n        onChange={handleDescriptionChange}\n      />\n      <span className=\"popup__input_type_error\" id=\"inputJob-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const userAvatar = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: userAvatar.current.value\n    });\n  }\n\n  React.useEffect(() => {\n    userAvatar.current.value = '';\n  }, [props.isOpen])\n\n  return (\n    <PopupWithForm\n      name='avatar'\n      title='Обновить аватар'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        name=\"avatar\"\n        ref={userAvatar}\n        placeholder=\"Ссылка на картинку\"\n        required className=\"popup__input\"\n        id=\"linkAvatar\"\n      />\n      <span className=\"popup__input_type_error\" id=\"linkAvatar-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n\n  const placeName = React.useRef();\n  const placeLink = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: placeName.current.value,\n      link: placeLink.current.value\n    });\n  }\n\n  React.useEffect(() => {\n    placeName.current.value = '';\n    placeLink.current.value = '';\n  }, [props.isOpen])\n\n  return (\n    <PopupWithForm\n      name='add-card'\n      title='Новое место'\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Название\"\n        ref={placeName}\n        defaultValue=\"\"\n        required\n        minLength=\"1\"\n        maxLength=\"30\"\n        className=\"popup__input\"\n        id=\"cardName\"\n      />\n      <span className=\"popup__input_type_error\" id=\"cardName-error\"></span>\n      <input\n        type=\"url\"\n        name=\"link\"\n        ref={placeLink}\n        placeholder=\"Ссылка на картинку\"\n        defaultValue=\"\"\n        required\n        className=\"popup__input\"\n        id=\"linkPhoto\"\n      />\n      <span className=\"popup__input_type_error\" id=\"linkPhoto-error\"></span>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  return (\n    <figure className={`popup popup_big-image ${props.card && 'popup_opened'}`}>\n      <div className=\"popup__image-box\">\n        <img alt={props.card ? props.card.name : ''} className=\"popup__image\" src={props.card ? props.card.link : ''} />\n        <figcaption className=\"popup__image-caption\">{props.card ? props.card.name : ''}</figcaption>\n        <button type=\"button\" aria-label=\"close\" className=\"popup__close-button\" onClick={props.onClose}></button>\n      </div>\n    </figure>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction ConfirmDeleteCardPopup(props) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onCardDelete(props.isOpen);\n  }\n\n  return (\n    <section className={`popup popup-delete-card ${props.isOpen ? 'popup_opened' : ''}`} onSubmit={handleSubmit}>\n      <form name=\"delete-card\" method=\"post\" action=\"#\" className=\"popup__container\" id=\"deleteCardForm\" noValidate>\n        <h3 className=\"popup__title\">Вы уверены?</h3>\n        <button type=\"submit\" className=\"popup__submit-button\">Да</button>\n        <button type=\"button\" aria-label=\"close\" className=\"popup__close-button\" onClick={props.onClose}></button>\n      </form>\n    </section>\n  );\n}\n\nexport default ConfirmDeleteCardPopup;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Login(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] =React.useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onLogin({\n      password,\n      email\n    })\n  }\n\n  return (\n    <form name='login' onSubmit={handleSubmit} method=\"post\" action=\"#\" className=\"entry-form\" noValidate>\n      <h3 className=\"entry-form__title\">Вход</h3>\n      <input\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"Email\"\n        defaultValue={email}\n        required\n        minLength=\"5\"\n        maxLength=\"30\"\n        className=\"entry-form__input\"\n        onChange={handleEmailChange}\n      />\n      <input\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Пароль\"\n        defaultValue={password}\n        required\n        minLength=\"5\"\n        maxLength=\"30\"\n        className=\"entry-form__input\"\n        onChange={handlePasswordChange}\n      />\n      <button type=\"submit\" className=\"entry-form__submit-button\">Войти</button>\n      <Link to='/sign-up' className=\"entry-form__link\">Ещё не зарегистрированы? Регистрация</Link>\n    </form>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register(props) {\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] =React.useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onRegister({\n      password,\n      email\n    })\n  }\n\n  return (\n    <form name='register' onSubmit={handleSubmit} method=\"post\" action=\"#\" className=\"entry-form\" noValidate>\n      <h3 className=\"entry-form__title\">Регистрация</h3>\n      <input\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"Email\"\n        defaultValue={email}\n        required\n        minLength=\"5\"\n        maxLength=\"30\"\n        className=\"entry-form__input\"\n        onChange={handleEmailChange}\n      />\n      <input\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Пароль\"\n        defaultValue={password}\n        required\n        minLength=\"5\"\n        maxLength=\"30\"\n        className=\"entry-form__input\"\n        onChange={handlePasswordChange}\n      />\n      <button type=\"submit\" className=\"entry-form__submit-button\">Зарегистрироваться</button>\n      <Link to='/sign-in' className=\"entry-form__link\">Уже зарегистрированы? Войти</Link>\n    </form>\n  );\n}\n\nexport default Register;\n\n\n//{\"data\":{\"_id\":\"5f85e2be86203500127df01e\",\"email\":\"escar1985@yandex.ru\"}}\n","import React from 'react';\n\nfunction InfoTooltip(props) {\n\n  return (\n    <section className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <div className={`popup__infoTooltip-image_${props.isSuccess ? 'success' : 'error'}`} />\n        <h3 className=\"popup__infoTooltip-title\">{` ${props.isSuccess\n          ? 'Вы успешно зарегистрировались!'\n          : 'Что-то пошло не так! Попробуйте еще раз.'}`}\n        </h3>\n        <button type=\"button\" aria-label=\"close\" className=\"popup__close-button\" onClick={props.onClose}></button>\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props  }) {\n  return (\n    <Route>\n      { props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" /> }\n    </Route>\n)}\n\n// const ProtectedRoute = ({ component: Component, ...props  }) => {\n//   return (\n//     <Route>\n//       {\n//         () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n//       }\n//     </Route>\n// )}\n\nexport default ProtectedRoute;\n","import React, { useEffect } from 'react';\nimport { Route, Redirect, Switch, useHistory } from 'react-router-dom';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n// Api\nimport api from '../utils/api';\nimport authApi from '../utils/authApi';\n\n// components\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport ConfirmDeleteCardPopup from './ConfirmDeleteCardPopup';\nimport Login from './Login';\nimport Register from './Register';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\n\n\nfunction App() {\n\n  // переменные состояний видимости попапов\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [isConfirmDeleteCardPopupOpen, setConfirmDeleteCardPopupOpen] = React.useState(false);\n\n  //\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState([]);\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isSuccessAuth, setIsSuccessAuth] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n\n  const history = useHistory();\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleConfirmDeleteCardClick(card) {\n    setConfirmDeleteCardPopupOpen(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(undefined);\n    setConfirmDeleteCardPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  // обработчик обновления данных пользователя\n  function handleUpdateUser(newInfo) {\n    api.setUserInfo(newInfo)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // обработчик обновления аватара\n  function handleUpdateAvatar(newAvatar) {\n    api.setUserAvatar(newAvatar)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // обработчик постановки/снятия лайка карточек\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // обработчик удаления карточки\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // обработчик добавления новой карточки\n  function handleAddPlaceSubmit(newCard) {\n    api.addCard(newCard)\n      .then((newCard) => {\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  // эффект для получения массива карточек и данных пользователя с сервера\n  React.useEffect(() => {\n    Promise.all([api.getInitialCards(), api.getUserInfo()])\n      .then(([data, user]) => {\n        setCards(data);\n        setCurrentUser(user)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  // эффект для закрытия попапов кликом на оверлей или по нажатию клавиши \"ESC\"\n  React.useEffect(() => {\n    function handleCloseByOverlayClickAndPressEscape(e) {\n      if (e.key === 'Escape' || e.target.classList.contains('popup_opened')) {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('click', handleCloseByOverlayClickAndPressEscape);\n    document.addEventListener('keydown', handleCloseByOverlayClickAndPressEscape);\n\n    return () => {\n      document.removeEventListener('click', handleCloseByOverlayClickAndPressEscape);\n      document.removeEventListener('keydown', handleCloseByOverlayClickAndPressEscape);\n    }\n  })\n\n  // обработчик формы компонента Register\n  function onRegister(authData) {\n    authApi.registerUser(authData)\n      .then((res) => {\n        if (res) {\n          setIsSuccessAuth(true);\n          history.push('/sign-in');\n        }\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n      .finally(() => {\n        setIsInfoTooltipOpen(true);\n      })\n  }\n\n\n\n  // обработчик формы компонента Login\n  function onLogin(authData) {\n    authApi.loginUser(authData)\n      .then((data) => {\n        tokenCheck()\n        return data.token\n      },\n        setLoggedIn(true),\n        history.push('/')\n      )\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  //обработчик выхода пользователя\n  function onSignOut() {\n    localStorage.removeItem('token');\n    setEmail('');\n    setLoggedIn(false);\n  }\n\n  function tokenCheck() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      authApi.getContent(token)\n        .then((res) => {\n          setEmail(res.data.email);\n          setLoggedIn(true);\n          history.push('/');\n        })\n    }\n  }\n\n  useEffect(() => {\n    tokenCheck();\n  }, [])\n\n  return (\n    <div className=\"root\">\n      <CurrentUserContext.Provider value={currentUser}>\n\n        <Header\n          linkTo='/sign-up'\n          linkTitle='Регистрация'\n          signOut={onSignOut}\n          email={email}\n          loggedIn={loggedIn}\n        />\n\n        <Switch>\n\n          <ProtectedRoute\n            exact path='/'\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onEditAvatar={handleEditAvatarClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleConfirmDeleteCardClick}\n            cards={cards}\n          />\n\n          <Route path='/sign-up'>\n            <Register onRegister={onRegister} />\n          </Route>\n\n          <Route path='/sign-in'>\n            <Login onLogin={onLogin} />\n          </Route>\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n\n        </Switch>\n\n        <Footer />\n\n        <InfoTooltip\n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          isSuccess={isSuccessAuth}\n        />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n        />\n\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n        />\n\n        <ConfirmDeleteCardPopup\n          isOpen={isConfirmDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n        />\n\n\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}